{"version":3,"sources":["app.js"],"names":["sideSwiper","initSwiper","screenWidth","window","innerWidth","Swiper","loop","direction","slidesPerView","spaceBetween","freeMode","centerMode","destroy","slideToClickedSlide","pagination","navigation","mainSwiper","fashionSwiper","fullImageSwiper","sideModalSwiper","document","addEventListener","nextEl","prevEl","error","console","breakpoints","600","1024","showBonusDescription","querySelectorAll","forEach","button","modalId","dataset","popup","modal","querySelector","classList","toggle","toggleModal","buttons","closeButtons","main","footer","modals","overlays","body","safelyRemoveClass","el","cn","remove","safelyAddClass","add","removeAllModals","contains","e","key","overlay","target","accordion","accordionBlocks","accordionButtons","accordionContents","activeBlockIndex","render","content","index","block","style","maxHeight","overflow","transition","setInitialStyles","height","scrollHeight","calculateBlockHeight","showContent","hideContent","handleButtonClick","handleFashionItemClick","selectors","containers","length","toggleVisibility","hiddenInfo","container","btn","info","removeActiveStates","closest","fashionItem","makeButtonFollowCursor","sliderWrap","followButton","isFollowing","handleMove","event","x","y","type","touches","clientX","clientY","rect","getBoundingClientRect","buttonWidth","offsetWidth","buttonHeight","offsetHeight","maxX","right","minX","left","maxY","bottom","minY","top","clampedX","Math","max","min","clampedY","handleMouseEnter","opacity","handleMouseLeave","handleCartButtonVisibility","cartButton","sizeModal","isInitialLoad","lastScrollY","scrollY","IntersectionObserver","entries","entry","isButtonNotVisible","isIntersecting","currentScrollY","threshold","observe"],"mappings":"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","file":"../js/app.min.js","sourcesContent":["let sideSwiper = null;\nconst initSwiper = () => {\n   const screenWidth = window.innerWidth;\n\n   if (screenWidth <= 600 && sideSwiper === null) {\n      sideSwiper = new Swiper('._side-slider', {\n         loop: false,\n         direction: 'horizontal',\n         slidesPerView: 5,\n         spaceBetween: 12,\n         freeMode: false,\n         centerMode: true,\n      });\n   } else if (screenWidth > 600) {\n      if(sideSwiper) {\n         sideSwiper.destroy(true, true);\n      }\n      sideSwiper = new Swiper('._side-slider', {\n         loop: true,\n         direction: 'vertical',\n         slidesPerView: 5,\n         freeMode: false,\n         slideToClickedSlide: true,\n         pagination: false,\n         navigation: false,\n      });\n   }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n   initSwiper();\n   window.addEventListener('resize', initSwiper);\n});\n\nlet mainSwiper;\ntry {\n   mainSwiper = new Swiper('._main-slider', {\n      loop: true,\n      pagination: false,\n      slidesPerView: 1,\n      spaceBetween: 2,\n      navigation: {\n         nextEl: '._main-slider .main-swiper-button-next',\n         prevEl: '._main-slider .main-swiper-button-prev',\n      },\n   });\n\n} catch (error) {\n   console.error('Error initializing Main Swiper:', error);\n}\n\nlet fashionSwiper;\ntry {\n   fashionSwiper = new Swiper('._fashion-slider', {\n      loop: true,\n      slidesPerView: \"auto\",\n      // freeMode: true,\n      spaceBetween: 20,\n      pagination: false,\n      centerMode: false,\n      slideToClickedSlide: true,\n      // slidesPerView: 1,\n      navigation: {\n         nextEl: '.fashion__arrow_wrap .swiper-button-next',\n         prevEl: '.fashion__arrow_wrap .swiper-button-prev',\n      },\n      breakpoints: {\n         600: {\n            navigation: false,\n         },\n         1024: {\n            navigation: true,\n         },\n      }\n   });\n\n} catch (error) {\n   console.error('Error initializing Main Swiper:', error);\n}\n\nlet fullImageSwiper;\ntry {\n   fullImageSwiper = new Swiper('._fullImage-slider', {\n      loop: true,\n      pagination: true,\n      slidesPerView: 1,\n      navigation: {\n         nextEl: '._fullImage-slider .__next',\n         prevEl: '._fullImage-slider .__prev',\n      },\n   });\n\n} catch (error) {\n   console.error('Error initializing Main Swiper:', error);\n}\n\nlet sideModalSwiper;\ntry {\n   sideModalSwiper = new Swiper('._sideModal-slider', {\n      loop: true,\n      direction: 'vertical',\n      slidesPerView: 5,\n      pagination: false,\n      navigation: false,\n      // centeredSlides: true,\n      slideToClickedSlide: true,\n   });\n\n} catch (error) {\n   console.error('Error initializing Side Swiper:', error);\n}\n\nconst showBonusDescription = () => {\n   document.querySelectorAll('.card__bonus_description_btn').forEach(button => {\n      button.addEventListener('click', () => {\n         const modalId = button.dataset.popup;\n         const modal = document.querySelector(`.hidden__bonus_description[popup-id=\"${modalId}\"]`);\n         \n         if (modal) {\n            modal.classList.toggle('_show');\n         }\n      });\n   });\n};\nshowBonusDescription();\n\nconst toggleModal = () => {\n   const buttons = document.querySelectorAll(\"[data-modal]\");\n   const closeButtons = document.querySelectorAll(\".modal__close\");\n   const main = document.querySelector(\".main\");\n   const footer = document.querySelector(\".footer\");\n   const modals = document.querySelectorAll(\"._modal\");\n   const overlays = document.querySelectorAll(\"._overlay\");\n   const html = document.querySelector('html');\n   const body = document.querySelector('body');\n\n   const showClass = \"_show\";\n   const blurClass = \"_blur\";\n   const overflowHiddenClass = \"_overflowHidden\";\n\n   const safelyRemoveClass = (el, cn) => {\n      if (el) {\n         el.classList.remove(cn);\n      }\n   };\n\n   const safelyAddClass = (el, cn) => {\n      if (el) {\n         el.classList.add(cn);\n      }\n   };\n\n   const applyBlur = () => {\n      safelyAddClass(main, blurClass);\n      safelyAddClass(footer, blurClass);\n   };\n\n   const removeBlur = () => {\n      safelyRemoveClass(main, blurClass);\n      safelyRemoveClass(footer, blurClass);\n   };\n\n   const removeAllModals = () => {\n      modals.forEach(modal => safelyRemoveClass(modal, showClass));\n      removeBlur();\n      // safelyRemoveClass(html, overflowHiddenClass);\n      safelyRemoveClass(body, overflowHiddenClass);\n   };\n\n   buttons.forEach(button => {\n      button.addEventListener(\"click\", () => {\n\n         removeAllModals();\n\n         const modalId = button.dataset.modal;\n\n         const modal = document.querySelector(`[modal-id=\"${modalId}\"]`);\n\n         safelyAddClass(modal, showClass);\n\n         if (modal && modal.classList.contains(showClass)) {\n            applyBlur();\n            // safelyAddClass(html, overflowHiddenClass);\n            safelyAddClass(body, overflowHiddenClass);\n         }\n      });\n   });\n\n   closeButtons.forEach(button => {\n      button.addEventListener(\"click\", () => {\n         removeAllModals();\n      });\n   });\n\n   document.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"Escape\") {\n         removeAllModals();\n      }\n   });\n\n   overlays.forEach(overlay => {\n      overlay.addEventListener(\"click\", (e) => {\n         if (e.target === overlay) {\n            removeAllModals();\n         }\n      });\n   });\n};\ntoggleModal();\n\nconst accordion = () => {\n   const accordionBlocks = document.querySelectorAll('._accordion_block');\n   const accordionButtons = document.querySelectorAll('._accordion_btn');\n   const accordionContents = document.querySelectorAll('._accordion_hidden_content');\n\n   const INIT_ITEM = 0;\n\n   let activeBlockIndex = INIT_ITEM;\n\n   const setInitialStyles = (content) => {\n      content.style.maxHeight = '0';\n      content.style.overflow = 'hidden';\n      content.style.transition = 'max-height 0.3s ease';\n   };\n\n   const calculateBlockHeight = (content) => {\n      content.style.maxHeight = 'auto';\n      const height = content.scrollHeight + 'px';\n      return height;\n   };\n\n   const hideContent = (content) => {\n      content.style.maxHeight = '0';\n   };\n\n   const showContent = (content, height) => {\n      content.style.maxHeight = height;\n\n   };\n\n   const render = () => {\n      accordionContents.forEach((content, index) => {\n         const block = accordionBlocks[index];\n         setInitialStyles(content);\n         block.classList.remove('_active');\n\n         if (index === activeBlockIndex) {\n         const height = calculateBlockHeight(content);\n         showContent(content, height);\n         block.classList.add('_active');\n         } else {\n         hideContent(content);\n         }\n      });\n   };\n\n   const handleButtonClick = (index) => {\n      return () => {\n         activeBlockIndex = (activeBlockIndex === index) ? -1 : index;\n         render();\n      };\n   };\n\n   accordionButtons.forEach((button, index) => {\n      button.addEventListener('click', handleButtonClick(index));\n   });\n\n   render();\n};\naccordion();\n\nconst handleFashionItemClick = () => {\n   const selectors = {\n      container: '.fashion__hidden_block',\n      item: '.fashion__hidden_item',\n      button: '.fashion__btn',\n      info: '.fashion__hidden_info',\n      activeClass: '_active',\n      showClass: '_show',\n   };\n\n   const containers = document.querySelectorAll(selectors.container);\n\n   if (!containers.length) {\n      return;\n   }\n\n   const removeActiveStates = (container) => {\n      container.querySelectorAll(`${selectors.button}.${selectors.activeClass}`)\n         .forEach(btn => btn.classList.remove(selectors.activeClass));\n\n      container.querySelectorAll(`${selectors.info}.${selectors.showClass}`)\n         .forEach(info => info.classList.remove(selectors.showClass));\n   };\n\n   const toggleVisibility = (button, hiddenInfo, container) => {\n      if (button.classList.contains(selectors.activeClass)) {\n         button.classList.remove(selectors.activeClass);\n         hiddenInfo.classList.remove(selectors.showClass);\n      } else {\n         removeActiveStates(container);\n         button.classList.add(selectors.activeClass);\n         hiddenInfo.classList.add(selectors.showClass);\n      }\n   };\n\n   containers.forEach(container => {\n      container.addEventListener('click', (e) => {\n         const button = e.target.closest(selectors.button);\n         if (!button) return;\n\n         const fashionItem = button.closest(selectors.item);\n         if (!fashionItem) return;\n\n         const hiddenInfo = fashionItem.querySelector(selectors.info);\n         if (!hiddenInfo) return;\n\n         toggleVisibility(button, hiddenInfo, container);\n      });\n   });\n};\nhandleFashionItemClick();\n\nfunction makeButtonFollowCursor() {\n   const sliderWraps = document.querySelectorAll('.main__slider_wrap');\n\n   sliderWraps.forEach(sliderWrap => {\n      const followButton = sliderWrap.querySelector('.main__showModal_btn[attr=\"hoveredPlus\"]');\n\n      if (!followButton) {\n         return;\n      }\n\n      let isFollowing = false;\n\n      function handleMove(event) {\n         if (!isFollowing) return;\n\n         let x, y;\n\n         if (event.type === 'touchmove') {\n         x = event.touches[0].clientX;\n         y = event.touches[0].clientY;\n         } else {\n         x = event.clientX;\n         y = event.clientY;\n         }\n\n         const rect = sliderWrap.getBoundingClientRect();\n         const buttonWidth = followButton.offsetWidth;\n         const buttonHeight = followButton.offsetHeight;\n\n         const maxX = rect.right - buttonWidth / 2;\n         const minX = rect.left + buttonWidth / 2;\n         const maxY = rect.bottom - buttonHeight / 2;\n         const minY = rect.top + buttonHeight / 2;\n\n         const clampedX = Math.max(minX, Math.min(x, maxX));\n         const clampedY = Math.max(minY, Math.min(y, maxY));\n\n         followButton.style.left = (clampedX - rect.left - buttonWidth / 2) + 'px';\n         followButton.style.top = (clampedY - rect.top - buttonHeight / 2) + 'px';\n      }\n\n      function handleMouseEnter() {\n         isFollowing = true;\n         followButton.style.opacity = 1;\n      }\n\n      function handleMouseLeave() {\n         isFollowing = false;\n         followButton.style.opacity = 0;\n      }\n\n      sliderWrap.addEventListener('mouseenter', handleMouseEnter);\n      sliderWrap.addEventListener('mouseleave', handleMouseLeave);\n\n      sliderWrap.addEventListener('mousemove', handleMove);\n      sliderWrap.addEventListener('touchmove', handleMove);\n      sliderWrap.addEventListener('touchstart', handleMouseEnter);\n      sliderWrap.addEventListener('touchend', handleMouseLeave);\n   });\n}\nmakeButtonFollowCursor();\n\nfunction handleCartButtonVisibility() {\n   const cartButton = document.querySelector('.card__addCart_btn[attr=\"addCart\"]');\n   const sizeModal = document.querySelector('[modal-id=\"modal-plawkaSize\"]');\n\n   if (!cartButton || !sizeModal) return;\n\n   let isInitialLoad = true;\n   let lastScrollY = window.scrollY;\n\n   const observer = new IntersectionObserver(\n      (entries) => {\n         entries.forEach((entry) => {\n         if (isInitialLoad) {\n            sizeModal.classList.remove('_show');\n            isInitialLoad = false;\n            return;\n         }\n\n         const isButtonNotVisible = !entry.isIntersecting;\n         const currentScrollY = window.scrollY;\n         const isScrollingDown = currentScrollY > lastScrollY;\n\n         if (isButtonNotVisible && isScrollingDown) {\n            sizeModal.classList.add('_show');\n         } else {\n            sizeModal.classList.remove('_show');\n         }\n\n         lastScrollY = window.scrollY;\n         });\n      },\n      { threshold: 0 }\n   );\n\n   observer.observe(cartButton);\n}\n\nhandleCartButtonVisibility();"]}